{% extends 'base.html.twig' %}

{% block title %}Mitarbeitendenliste{% endblock %}

{% block body %}
<div style="max-width: 1000px; margin: auto; font-family: sans-serif;">

    <div style="display: flex; justify-content: space-between; align-items: center;">
        <h2>Mitarbeitendenliste</h2>
        <a href="{{ path('card_new') }}" style="background-color: #a1cf63; padding: 10px 20px; color: white; text-decoration: none; border-radius: 4px; font-weight: bold;">
            + ERSTELLEN
        </a>
    </div>

    <table style="width: 100%; margin-top: 20px; border-collapse: collapse; border: 1px solid #ddd;">
        <thead style="background-color: #f7f7f7;">
            <tr>
                <th style="text-align: left; padding: 12px;">Vorname</th>
                <th style="text-align: left; padding: 12px;">Nachname</th>
                <th style="text-align: center; padding: 12px;">Aktionen</th>
            </tr>
        </thead>
        <tbody>
        {% for card in cards %}
            <tr style="border-bottom: 1px solid #eee;">
                <td style="padding: 10px;">{{ card.vorname }}</td>
                <td style="padding: 10px;">{{ card.nachname }}</td>
                <td style="padding: 10px; text-align: center;">
                    <a href="{{ path('app_card_show', { id: card.id }) }}" style="background-color: #51929b; color: white; padding: 6px 10px; margin-right: 5px; border-radius: 4px;" title="Anzeigen">🔍</a>
                    <a href="{{ path('card_edit', { id: card.id }) }}" style="background-color: #1e1e1e; color: white; padding: 6px 10px; margin-right: 5px; border-radius: 4px;" title="Bearbeiten">✏️</a>
                    <form method="post" action="{{ path('card_delete', { id: card.id }) }}" style="display:inline;" onsubmit="return confirm('Wirklich löschen?');">
                        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ card.id) }}">
                        <button style="background-color: #bbb; color: white; padding: 6px 10px; border: none; border-radius: 4px;" title="Löschen">🗑️</button>
                    </form>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="4" style="text-align: center; padding: 20px;">Keine Mitarbeitenden gefunden.</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
